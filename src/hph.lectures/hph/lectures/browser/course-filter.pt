<section class="app-page__section course-filter">
    <form class="app-form app-form--filter-bar"
          id="createBlockForm"
          method="post" role="form"
             tal:attributes="action request/URL">

        <div class="app-callout app-callout-default" hidden>
            <h4>Filter Code Test</h4>
            <pre tal:content="python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='course-modules--bachelor', target=None, data_set='modules-ba', visibility='hidden')" />
        </div>

        <div class="filter__section">
            <div class="filter__block filter__block--master">
                <div class="app-card">
                    <div class="app-card__header">
                        <div class="app-card__heading">Studiengang</div>
                    </div>
                    <div class="app-card__main app-card__main--bordered"
                             tal:define="template python:context.restrictedTraverse('@@course-filter-select')(selector='master', identifier='degree-course', target='course-modules', data_set='courses', visibility='visible');">
                        <span tal:replace="structure template" />
                    </div>
                </div>
            </div>
            <div class="filter__block filter__block--container">
                <div class="filter__items filter__items--unit">
                    <div class="filter__item">
                        <div class="app-card">
                            <div class="app-card__header">
                                <div class="app-card__heading">Modul</div>
                            </div>
                            <div class="app-card__main app-card__main--bordered"
                                     tal:define="template_master python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='course-modules--master', target=None, data_set='modules-ma', visibility='hidden');
                                    template_bachelor python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='course-modules--bachelor', target=None, data_set='modules-ba', visibility='hidden');">
                                <span tal:replace="structure template_master" />
                                <span tal:replace="structure template_bachelor" />
                            </div>
                        </div>
                    </div>
                    <div class="filter__item">
                        <div class="app-card">
                            <div class="app-card__header">
                                <div class="app-card__heading">Schwerpunkt</div>
                            </div>
                            <div class="app-card__main app-card__main--bordered"
                                     tal:define="template_master python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='course-modules--master', target=None, data_set='modules-ma', visibility='hidden');
                                    template python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='course-modules--bachelor', target=None, data_set='core-themes', visibility='hidden');">
                                <span tal:replace="structure template_master" />
                                <span tal:replace="structure template" />
                            </div>
                        </div>
                        <div class="app-card app-card--filter">
                            <div class="app-card__header">
                                <div class="app-card__heading hiddenStructure">Schwerpunkt</div>
                            </div>
                            <div class="app-card__main app-card__main--bordered"
                                     tal:define="theme_groups view/course_core_themes">
                                <tal:course-themes tal:repeat="theme_group theme_groups">
                                    <select class="form-control form__control form__control--themes module__select module__select--hidden js-module-selector js-selector-course-theme form__control--themes-${theme_group}"
                                            id="selector__course-theme--${theme_group}"
                                            name="course-theme"
                                             tal:define="options python:theme_groups[theme_group]">
                                        <option disabled selected value i18n:translate=""> -- select an option -- </option>
                                        <tal:block tal:repeat="value options">
                                            <option tal:define="token python:options[value]"
                                                     tal:attributes="value string:${token};
                                                            name string:course:${token}">
                                                    ${token}
                                            </option>
                                        </tal:block>
                                    </select>
                                </tal:course-themes>
                            </div>
                        </div>
                    </div>
                    <div class="filter__item">
                        <a class="app-btn app-btn--link"
                                 tal:attributes="href string:${context/absolute_url}">
                            <i class="ion ion-ios-add-circle-outline pp-icon pp-icon-sm"></i>
                            <span tal:omit-tag="" i18n:translate="">Schwerpunkt zum<br> Modul hinzufügen</span>
                        </a>
                    </div>
                </div>
                <div class="filter__items">
                    <div class="filter__item filter__item--action">
                        <a class="app-btn app-btn--link"
                                 tal:attributes="href string:${context/absolute_url}">
                            <i class="ion ion-ios-add-circle-outline pp-icon pp-icon-sm"></i>
                            <span tal:omit-tag="" i18n:translate="">Modul im gewählten<br> Studiengang hinzufügen</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="filter__section">
            <div class="filter__block filter__block--master">
                <a class="app-btn app-btn--default"
                         tal:attributes="href string:${context/absolute_url}">
                    <i class="ion ion-ios-close-circle-outline pp-icon pp-icon-sm"></i>
                    <span tal:omit-tag="" i18n:translate="">Clear filter</span>
                </a>
            </div>
            <div class="filter__block filter__block--action">
                <a class="app-btn app-btn--link"
                         tal:attributes="href string:${context/absolute_url}">
                    <i class="ion ion-ios-add-circle-outline pp-icon pp-icon-sm"></i>
                    <span tal:omit-tag="" i18n:translate="">Auszeichnung für weiternen<br> Studiengang hinzufügen</span>
                </a>
            </div>
        </div>
    </form>
</section>