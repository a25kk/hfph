<section class="app-page__section course-filter">
    <form class="app-form app-form--filter-bar"
          id="course-filter-form"
          method="post"
          tal:attributes="action request/URL">

        <div class="app-callout app-callout-default" hidden>
            <h4>Filter Code Test</h4>
            <pre tal:content="python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='course-modules--bachelor', target=None, data_set='core-themes', visibility='hidden')" />
        </div>

        <div class="filter__section">
            <div class="filter__items filter__items--unit">
                <div class="filter__item">
                    <div class="app-card">
                        <div class="app-card__header">
                            <div class="app-card__heading">Studiengang</div>
                        </div>
                        <div class="app-card__main app-card__main--bordered"
                                 tal:define="template python:context.restrictedTraverse('@@course-filter-select')(selector='master', identifier='degree-course', target='course-modules', data_set='courses', visibility='visible-always');">
                            <span tal:replace="structure template" />
                        </div>
                    </div>
                </div>
                <div class="filter__item">
                    <div class="app-card">
                        <div class="app-card__header">
                            <div class="app-card__heading">Modul</div>
                        </div>
                        <div class="app-card__main app-card__main--bordered-top"
                                 tal:define="template_master python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='course-modules--master', target=None, data_set='modules-ma', visibility='hidden');
                                template_bachelor python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='course-modules--bachelor', target=None, data_set='modules-ba', visibility='hidden');">
                            <span tal:replace="structure template_master" />
                            <span tal:replace="structure template_bachelor" />
                        </div>
                    </div>
                </div>
                <div class="filter__item">
                    <div class="app-card">
                        <div class="app-card__header">
                            <div class="app-card__heading">Schwerpunkt</div>
                        </div>
                        <div class="app-card__main app-card__main--bordered">
                            <tal:block tal:define="template python:context.restrictedTraverse('@@course-filter-select')(selector='child', identifier='core-theme--macon', target=None, data_set='core-theme-macon', visibility='hidden');">
                                <span tal:replace="structure template" />
                            </tal:block>
                            <tal:block tal:define="template python:context.restrictedTraverse('@@course-filter-select')(selector='master', identifier='core-theme--ma-ethic', target=None, data_set='core-theme-ma-ethic', visibility='hidden');">
                                <span tal:replace="structure template" />
                            </tal:block>
                            <tal:block tal:define="template python:context.restrictedTraverse('@@course-filter-select')(selector='master', identifier='core-theme--ma-ib', target=None, data_set='core-theme-ma-ib', visibility='hidden');">
                                <span tal:replace="structure template" />
                            </tal:block>
                        </div>
                    </div>
                </div>
            </div>


            <div class="filter__block filter__block--master" hidden>
                <div class="app-card">
                    <div class="app-card__header">
                        <div class="app-card__heading">Studiengang</div>
                    </div>
                    <div class="app-card__main app-card__main--bordered">
                        <tal:block tal:define="template python:context.restrictedTraverse('@@course-filter-select')(selector='master', identifier='degree-course', target='course-module-macon', data_set='courses', visibility='visible');">
                            <span tal:replace="structure template" />
                        </tal:block>
                        <tal:block tal:define="template python:context.restrictedTraverse('@@course-filter-select')(selector='master', identifier='degree-course', target='course-module-ma-ethic', data_set='courses', visibility='visible');">
                            <span tal:replace="structure template" />
                        </tal:block>
                        <tal:block tal:define="template python:context.restrictedTraverse('@@course-filter-select')(selector='master', identifier='degree-course', target='course-module-ma-ib', data_set='courses', visibility='visible');">
                            <span tal:replace="structure template" />
                        </tal:block>
                    </div>
                </div>
            </div>
        </div>

        <div class="filter__section">
            <div class="filter__block filter__block--master">
                <a class="app-btn app-btn--link"
                         tal:attributes="href string:${context/absolute_url}">
                    <i class="ion ion-ios-close-circle-outline pp-icon pp-icon-sm"></i>
                    <span tal:omit-tag="" i18n:translate="">Filter zur√ºcksetzen</span>
                </a>
            </div>
            <div class="filter__block filter__block--action">
                <button class="app-btn app-btn--default app-btn--lg"
                        name="form.button.Submit"
                        id="form.button.Submit">
                    <span tal:omit-tag="" i18n:translate="">Filter anwenden</span>
                    <i class="ion ion-ios-arrow-dropright-outline pp-icon pp-icon-sm"></i>
                </button>
            </div>
        </div>
    </form>
</section>